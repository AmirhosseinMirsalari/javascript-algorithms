حالا متن چالش را به فارسی ترجمه می‌کنم و سپس به کد مثال بالا می‌پردازیم.

## چالش: معکوس کردن رشته با استفاده از بازگشتی

## دستورالعمل‌ها

تابعی به نام `reverseString` بنویسید که یک رشته دریافت کند و نسخه معکوس آن را برگرداند. حتماً در راه‌حل خود از بازگشتی استفاده کنید.

### امضای تابع

```js
/**
 * برگرداندن معکوس یک رشته.
 * @param {string} str - رشته‌ای که می‌خواهیم معکوس کنیم.
 * @returns {string} - معکوس رشته.
 */
function reverseString(str: string): string;
```

## مثال‌ها

```js
reverseString('hello'); // باید 'olleh' را برگرداند
reverseString('world'); // باید 'dlrow' را برگرداند
reverseString(''); // باید '' را برگرداند
reverseString('a'); // باید 'a' را برگرداند
reverseString('racecar'); // باید 'racecar' را برگرداند
```

### راهنما

- به عنوان یک شرط پایه، می‌توانید بررسی کنید که آیا رشته خالی است یا نه، و اگر بله، یک رشته خالی برگردانید.
- می‌توانید از بازگشتی برای معکوس کردن رشته استفاده کنید، با فراخوانی بازگشتی تابع با رشته‌ای که از دومین کاراکتر شروع می‌شود و سپس اضافه کردن اولین کاراکتر در انتها.
- به خاطر داشته باشید که چگونه unwinding کار می‌کند و چگونه بازگشت‌های تابع به پشته فراخوانی به ترتیب برعکس تماس‌های تابع اضافه می‌شوند.

## راه حل‌ها

<details>
  <summary>برای مشاهده راه حل کلیک کنید</summary>

```js
function reverseString(str) {
  if (str === '') {
    return '';
  }

  return reverseString(str.substr(1)) + str[0];
}
```

### توضیحات

تابع `reverseString` از بازگشتی برای معکوس کردن رشته استفاده می‌کند.

- اگر رشته ورودی خالی باشد (`str === ''`،) یک رشته خالی برمی‌گرداند (`''`). در غیر این صورت، خود را با زیررشته‌ای که از دومین کاراکتر شروع می‌شود (`str.substr(1)`) فراخوانی می‌کند و اولین کاراکتر رشته اصلی را در انتها اضافه می‌کند (`str[0]`).

به عنوان مثال، اگر ورودی `'hello'` باشد، ابتدا تابع خود را با `'ello'` فراخوانی می‌کند و `h` را در انتها اضافه می‌کند. سپس تابع خود را با `'llo'` فراخوانی می‌کند و `e` را در انتها اضافه می‌کند. این فرآیند تا زمانی که رشته ورودی خالی شود ادامه پیدا می‌کند، سپس تابع شروع به ا

ضافه کردن کاراکترها به ترتیب معکوس می‌کند و رشته معکوس را تولید می‌کند.

پایه‌ی خالی بودن رشته بسیار مهم است، در غیر این صورت تابع به طور مداوم خود را با زیررشته‌های رشته اصلی فراخوانی می‌کند تا حافظه تمام شود و کنسول خطاهای خاصی را نشان می‌دهد.

#### توضیحات بیشتر

بیایید کمی این را بشکنیم...

1. هنگامی که ما `reverseString('hello')` را فراخوانی می‌کنیم، ابتدا `reverseString('ello') + 'h'` اجرا می‌شود.
2. در حال حاضر، `reverseString('ello')` `reverseString('llo') + 'e'` را فراخوانی می‌کند.
3. ادامه می‌دهیم، `reverseString('llo')` `reverseString('lo') + 'l'` را فراخوانی می‌کند.
4. در فراخوانی بعدی، `reverseString('lo')` `reverseString('o') + 'l'` را فراخوانی می‌کند.
5. در نهایت، `reverseString('o')` 'o' را برمی‌گرداند.

حالا ما می‌توانیم شروع به "unwinding" بازگشتی کنیم و کاراکترها را برای تولید رشته معکوس به ترتیب اضافه کنیم:

1. 'o' + 'l' می‌دهد 'ol'.
2. 'ol' + 'l' می‌دهد 'oll'.
3. 'oll' + 'e' می‌دهد 'olle'.
4. 'olle' + 'h' می‌دهد 'olleh'.

بنابراین، تابع کاراکترها را به ترتیب معکوس به عنوان "unwinding" بازگشتی می‌چسباند و رشته اصلی را معکوس می‌کند.

ما حتی می‌توانیم این راه‌حل را به یک خط تقلیل دهیم:

```js
// نسخه‌ی کوتاهتر
const reverseString = (str) =>
  str === '' ? '' : reverseString(str.substr(1)) + str.charAt(0);
```

</details>

### موارد آزمون

```js
test('Reversing a string', () => {
  expect(reverseString('Hello')).toBe('olleH');
  expect(reverseString('JavaScript')).toBe('tpircSavaJ');
  expect(reverseString('12345')).toBe('54321');
});
```

